# ===================================================================== #
# BASIC CONFIGURATION
# ===================================================================== #

# Default values in this YAML file are specified by `null` instead of Lima's "builtin default" values,
# so they can be overridden by the $LIMA_HOME/_config/default.yaml mechanism documented at the end of this file.

# VM type: "qemu", "vz" (on macOS 13 and later), or "default".
# The vmType can be specified only on creating the instance.
# The vmType of existing instances cannot be changed.
# 游릭 Builtin default: "vz" (on macOS 13.5 and later), "qemu" (on others)
vmType: null

# Arch: "default", "x86_64", "aarch64".
# 游릭 Builtin default: "default" (corresponds to the host architecture)
arch: null

# OpenStack-compatible disk image.
# Each image has a `location` URL for the disk image, an `arch` setting, and an optional `digest`.
# 游릭 Builtin default: none (must be specified)
# 游댯 This file: Ubuntu images (inherited via the `base` mechanism later in this file)
images:
  - location: "~/Downloads/Arch-Linux-aarch64-cloudimg-20220323.0.qcow2"
    arch: aarch64
  - location: https://github.com/mcginty/arch-boxes-arm/releases/download/v20220323/Arch-Linux-aarch64-cloudimg-20220323.0.qcow2
    arch: aarch64
    digest: sha512:27524910bf41cb9b3223c8749c6e67fd2f2fdb8b70d40648708e64d6b03c0b4a01b3c5e72d51fefd3e0c3f58487dbb400a79ca378cde2da341a3a19873612be8

# CPUs
# 游릭 Builtin default: min(4, host CPU cores)
cpus: 6

# Memory size
# 游릭 Builtin default: min("4GiB", half of host memory)
memory: 10GiB

# Disk size
# 游릭 Builtin default: "100GiB"
disk: 100GiB

# Expose host directories to the guest, the mount point might be accessible from all UIDs in the guest
# "location" can use these template variables: {{.Home}}, {{.Dir}}, {{.Name}}, {{.UID}}, {{.User}}, {{.Param.Key}},
# {{.GlobalTempDir}}, and {{.TempDir}}. The global temp dir is always "/tmp" on Unix.
# "mountPoint" can use these template variables: {{.Home}}, {{.Name}}, {{.Hostname}}, {{.UID}}, {{.User}}, and {{.Param.Key}}.
# 游릭 Builtin default: [] (Mount nothing)
# 游댯 This file: Mount the home as read-only, /tmp/lima as writable  (inherited via the `base` mechanism later in this file)
mounts:
  - location: "~/.config"
    writable: true

  - location: "~/PROJECTS"
    writable: true

  - location: "/tmp/lima"
    writable: true

# ===================================================================== #
# ADVANCED CONFIGURATION
# ===================================================================== #

# Lima disks to attach to the instance. The disks will be accessible from inside the
# instance, labeled by name. (e.g. if the disk is named "data", it will be labeled
# "lima-data" inside the instance). The disk will be mounted inside the instance at
# `/mnt/lima-${VOLUME}`.
# 游릭 Builtin default: []
additionalDisks:
# disks should either be a list of disk name strings, for example:
# - "data"
# or a list of disk objects with extra parameters, for example:
# - name: "data"
#   format: true
#   fsType: "ext4"

ssh:
  # A localhost port of the host. Forwarded to port 22 of the guest.
  # 游릭 Builtin default: 0 (automatically assigned to a free port)
  # NOTE: when the instance name is "default", the builtin default value is set to
  # 60022 for backward compatibility.
  localPort: 0
  # Load ~/.ssh/*.pub in addition to $LIMA_HOME/_config/user.pub .
  # This option is useful when you want to use other SSH-based
  # applications such as rsync with the Lima instance.
  # If you have an insecure key under ~/.ssh, do not use this option.
  # 游릭 Builtin default: false (since Lima v1.0)
  loadDotSSHPubKeys: true
  # Forward ssh agent into the instance.
  # The ssh agent socket can be mounted in a container at the path `/run/host-services/ssh-auth.sock`.
  # Set the environment variable `SSH_AUTH_SOCK` value to the path above.
  # The socket is accessible by the non-root user inside the Lima instance.
  # 游릭 Builtin default: false
  forwardAgent: true

